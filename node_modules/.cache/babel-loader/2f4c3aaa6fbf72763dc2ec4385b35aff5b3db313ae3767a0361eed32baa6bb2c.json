{"ast":null,"code":"import _regeneratorRuntime from\"/Users/test/Desktop/frontend/React-Landing-Page-Template/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/test/Desktop/frontend/React-Landing-Page-Template/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/test/Desktop/frontend/React-Landing-Page-Template/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var QuizPage=function QuizPage(){var _useState=useState('Hali, fayl tanlamadingiz'),_useState2=_slicedToArray(_useState,2),fileName=_useState2[0],setFileName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),quizResult=_useState4[0],setQuizResult=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var handleFileChange=function handleFileChange(event){var file=event.target.files[0];setFileName(file?file.name:'Fayl tanlamadingiz');};var handleGenerateQuiz=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var fileInput,file,formData,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:fileInput=document.getElementById('bookUpload');file=fileInput.files[0];if(file){_context.next=5;break;}alert('Iltimos, faylingizni yuklang(PDF).');return _context.abrupt(\"return\");case 5:formData=new FormData();formData.append('file',file);formData.append('num_questions',100);setIsLoading(true);_context.prev=9;_context.next=12;return fetch('http://quiz.mutolaa.com/',{method:'POST',body:formData});case 12:response=_context.sent;if(response.ok){_context.next=15;break;}throw new Error('Network response was not ok');case 15:_context.next=17;return response.json();case 17:data=_context.sent;setQuizResult(data);_context.next=25;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](9);console.error('Error:',_context.t0);alert('Testlar tuzishda xatolik yuz berdi, iltimos keinroq yana harakat qilib ko\\'ring');case 25:_context.prev=25;setIsLoading(false);return _context.finish(25);case 28:case\"end\":return _context.stop();}},_callee,null,[[9,21,25,28]]);}));return function handleGenerateQuiz(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"quiz-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Test tuzuvchi\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"bookUpload\",accept:\".pdf\",className:\"file-input\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bookUpload\",className:\"custom-file-label\",children:\"Fayl tanlang\"}),/*#__PURE__*/_jsx(\"span\",{className:\"file-name\",children:fileName})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:handleGenerateQuiz,disabled:isLoading,children:isLoading?'Yuklanmoqda...':'Testlar tuzish'}),/*#__PURE__*/_jsx(\"div\",{id:\"quizResult\",className:\"quiz-results \".concat(quizResult.length?'':'hidden'),children:quizResult.map(function(quiz,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"quiz-item\",children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Question \",index+1,\":\"]}),\" \",quiz.question]},index);})})]})});};export default QuizPage;","map":{"version":3,"names":["React","useState","QuizPage","fileName","setFileName","quizResult","setQuizResult","isLoading","setIsLoading","handleFileChange","event","file","target","files","name","handleGenerateQuiz","fileInput","document","getElementById","alert","formData","FormData","append","fetch","method","body","response","ok","Error","json","data","console","error","length","map","quiz","index","question"],"sources":["/Users/test/Desktop/frontend/React-Landing-Page-Template/src/components/quiz.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport '../App.css';\n\nconst QuizPage = () => {\n  const [fileName, setFileName] = useState('Hali, fayl tanlamadingiz');\n  const [quizResult, setQuizResult] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    setFileName(file ? file.name : 'Fayl tanlamadingiz');\n  };\n\n  const handleGenerateQuiz = async () => {\n    const fileInput = document.getElementById('bookUpload');\n    const file = fileInput.files[0];\n\n    if (!file) {\n      alert('Iltimos, faylingizni yuklang(PDF).');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('num_questions', 100);\n\n    setIsLoading(true);\n\n    try {\n      const response = await fetch('http://quiz.mutolaa.com/', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n\n      const data = await response.json();\n      setQuizResult(data);\n    } catch (error) {\n      console.error('Error:', error);\n      alert('Testlar tuzishda xatolik yuz berdi, iltimos keinroq yana harakat qilib ko\\'ring');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"quiz-container\">\n      <div className=\"quiz-content\">\n        <h1>Test tuzuvchi</h1>\n        <div className=\"file-upload\">\n          <input type=\"file\" id=\"bookUpload\" accept=\".pdf\" className=\"file-input\" onChange={handleFileChange} />\n          <label htmlFor=\"bookUpload\" className=\"custom-file-label\">Fayl tanlang</label>\n          <span className=\"file-name\">{fileName}</span>\n        </div>\n        <button className=\"btn\" onClick={handleGenerateQuiz} disabled={isLoading}>\n          {isLoading ? 'Yuklanmoqda...' : 'Testlar tuzish'}\n        </button>\n        <div id=\"quizResult\" className={`quiz-results ${quizResult.length ? '' : 'hidden'}`}>\n          {quizResult.map((quiz, index) => (\n            <div key={index} className=\"quiz-item\">\n              <strong>Question {index + 1}:</strong> {quiz.question}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default QuizPage;\n"],"mappings":"0bAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,YAAY,CAAC,wFAEpB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,cAAgCD,QAAQ,CAAC,0BAA0B,CAAC,wCAA7DE,QAAQ,eAAEC,WAAW,eAC5B,eAAoCH,QAAQ,CAAC,EAAE,CAAC,yCAAzCI,UAAU,eAAEC,aAAa,eAChC,eAAkCL,QAAQ,CAAC,KAAK,CAAC,yCAA1CM,SAAS,eAAEC,YAAY,eAE9B,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIC,KAAK,CAAK,CAClC,GAAMC,KAAI,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAClCT,WAAW,CAACO,IAAI,CAAGA,IAAI,CAACG,IAAI,CAAG,oBAAoB,CAAC,CACtD,CAAC,CAED,GAAMC,mBAAkB,4FAAG,8KACnBC,SAAS,CAAGC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CACjDP,IAAI,CAAGK,SAAS,CAACH,KAAK,CAAC,CAAC,CAAC,IAE1BF,IAAI,yBACPQ,KAAK,CAAC,oCAAoC,CAAC,CAAC,wCAIxCC,QAAQ,CAAG,GAAIC,SAAQ,EAAE,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEX,IAAI,CAAC,CAC7BS,QAAQ,CAACE,MAAM,CAAC,eAAe,CAAE,GAAG,CAAC,CAErCd,YAAY,CAAC,IAAI,CAAC,CAAC,uCAGMe,MAAK,CAAC,0BAA0B,CAAE,CACvDC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEL,QACR,CAAC,CAAC,SAHIM,QAAQ,kBAKTA,QAAQ,CAACC,EAAE,+BACR,IAAIC,MAAK,CAAC,6BAA6B,CAAC,gCAG7BF,SAAQ,CAACG,IAAI,EAAE,SAA5BC,IAAI,eACVxB,aAAa,CAACwB,IAAI,CAAC,CAAC,iFAEpBC,OAAO,CAACC,KAAK,CAAC,QAAQ,aAAQ,CAC9Bb,KAAK,CAAC,iFAAiF,CAAC,CAAC,yBAEzFX,YAAY,CAAC,KAAK,CAAC,CAAC,qGAEvB,kBAjCKO,mBAAkB,0CAiCvB,CAED,mBACE,YAAK,SAAS,CAAC,gBAAgB,uBAC7B,aAAK,SAAS,CAAC,cAAc,wBAC3B,oBAAI,eAAa,EAAK,cACtB,aAAK,SAAS,CAAC,aAAa,wBAC1B,cAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,CAAEN,gBAAiB,EAAG,cACtG,cAAO,OAAO,CAAC,YAAY,CAAC,SAAS,CAAC,mBAAmB,UAAC,cAAY,EAAQ,cAC9E,aAAM,SAAS,CAAC,WAAW,UAAEN,QAAQ,EAAQ,GACzC,cACN,eAAQ,SAAS,CAAC,KAAK,CAAC,OAAO,CAAEY,kBAAmB,CAAC,QAAQ,CAAER,SAAU,UACtEA,SAAS,CAAG,gBAAgB,CAAG,gBAAgB,EACzC,cACT,YAAK,EAAE,CAAC,YAAY,CAAC,SAAS,wBAAkBF,UAAU,CAAC4B,MAAM,CAAG,EAAE,CAAG,QAAQ,CAAG,UACjF5B,UAAU,CAAC6B,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBAC1B,aAAiB,SAAS,CAAC,WAAW,wBACpC,0BAAQ,WAAS,CAACA,KAAK,CAAG,CAAC,CAAC,GAAC,GAAS,IAAC,CAACD,IAAI,CAACE,QAAQ,GAD7CD,KAAK,CAET,EACP,CAAC,EACE,GACF,EACF,CAEV,CAAC,CAED,cAAelC,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}